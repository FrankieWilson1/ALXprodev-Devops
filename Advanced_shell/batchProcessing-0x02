#!/bin/bash
# Automate the retrieval of data for multiple Pokémon and store it in separate files.

# Define the array of Pokemon names.
pokemon_list=("bulbasaur", "ivysaur", "venusaur", "charmander", "charmeleon")

# Base URL for the API and the output directory.
API_URL="https://pokeapi.co/api/v2/pokemon/"
OUTPUT_DIR="pokemon_data"

# Create the output directory if it doesen't exist.
mkdir -p "$OUTPUT_DIR"

# Loop through each Pokemon in the list.
for pokemon in "${pokemon_list[@]}"; do
    echo "Fetching data for $pokemon..."

    # Convert the name to lowercase for the URL and filename.
    pokemon_lower=$(echo "$pokemon" | tr '[:upper:]' '[:lower:]')

    # Make the API request and save the output to a file.
    curl -s "${API_URL}${pokemon_lower}" > "${OUTPUT_DIR}/${pokemon_lower}.json"

    # Add a deley to avoid hitting API rate limits.
    sleep 1

    echo "Saved data to ${OUTPUT_DIR}/${pokemon_lower}.json ✅"
done

echo "Script finished."
